<!-- User page-->
<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="../css/indexcss.css">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous"><!--css file-->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script><!--this line and others above is for bootstrap and popper-->
		<script src="https://kit.fontawesome.com/cf0c20577d.js" crossorigin="anonymous"></script> <!--Font awsesome, for ease access to icons-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		<link rel='stylesheet' href='https://cdn-uicons.flaticon.com/uicons-solid-straight/css/uicons-solid-straight.css'> <!--Flaticon solid straight pack-->

	</head>
	<body style="background-color:var(--bg-color);transition: background-color 0.4s ease-in-out">
		<div class="overlay fixed-top container-fluid">
			<div class="signup " id="signupoverlay">
				<h1 style="margin:5px;margin-left:auto;margin-right:auto">Log In</h1>
				<label for="usernamelogin" style="margin-left:10%" class="col-4">Username:</label>
				<input type="text" placeholder="username" id="usernamelogin" class="col" style="max-height:30px;margin-left:10%;width:80%;border-radius:5px">
				<label for="passwordlogin" style="margin-left:10%" class="col-4">Password:</label>
				<input type="password" placeholder="password" id="passwordlogin" class="col" style="max-height:30px;margin-left:10%;width:80%;border-radius:5px">
				<div class="d-flex" style="width:100%;justify-content:space-around">
					<button class="btn btn-primary mx-auto" id="signup1" style="margin-top:20px;min-width:30%;background-color:var(--button-color);border:none !important;">Sign Up</button>
					<button class="btn btn-primary mx-auto" id="login1" style="margin-top:20px;min-width:30%;background-color:var(--button-color);border:none !important;">Log In</button>
				</div>
			</div>
			<div class="signup " id="regoverlay">
				<h1 style="margin:5px;margin-left:auto;margin-right:auto">Register</h1>
				<label for="usernamelogin" style="margin-left:10%" class="col-4">Name:</label>
				<input type="text" placeholder="username" id="namelogin" class="col" style="max-height:30px;margin-left:10%;width:80%;border-radius:5px">
				<label for="usernamelogin" style="margin-left:10%" class="col-4">Username:</label>
				<input type="text" placeholder="username" id="usernamelogin" class="col" style="max-height:30px;margin-left:10%;width:80%;border-radius:5px">
				<label for="passwordlogin" style="margin-left:10%" class="col-4">Password:</label>
				<input type="password" placeholder="password" id="passwordlogin" class="col" style="max-height:30px;margin-left:10%;width:80%;border-radius:5px">
				<label for="passwordlogin" style="margin-left:10%" class="col-4">Confirm Password:</label>
				<input type="password" placeholder="password" id="passwordlogin" class="col" style="max-height:30px;margin-left:10%;width:80%;border-radius:5px">
				<div class="d-flex" style="width:100%;justify-content:space-around; flex-wrap: wrap">
					<button class="btn btn-primary mx-auto col-12" id="signup2" style="margin-top:20px;min-width:30%;background-color:var(--button-color);border:none !important;">Sign Up</button>
					<button class="btn btn-primary mx-auto col-12" id="login2" style="margin-top:20px;min-width:30%;background-color:var(--button-color);border:none !important;">Log In</button>
				</div>
			</div>
		</div>

		<div class="container-fluid sticky-top" style="max-height:100px;box-shadow: 0px 1px 2px dimgray; background-color:var(--nav-color); transition: background-color 0.4s ease-in-out">
			<div class="container-xxl topNav sticky-top" id="topNav">
				<div class="row" style="padding:0px 8px">
					<div class="dropdown col-sm-1 d-inline-flex px-0">
						<button class="col topNavElement" data-bs-toggle="dropdown" data-bs-auto-close="outside" id="dropdown0" aria-expanded="false">
							<!-- bars -->
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="30px" width="30px" style="fill:var(--text-color)" class="transformsvg">
								<path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7
									0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>							
						</button>
						<ul class="dropdownmenu dropdown-menu" style="padding:0px;min-width: 5rem !important" id="dropdownmenu0">
							<li><a class="dropdown-item" href="../index.html">Home</a></li>
							<li><a class="dropdown-item" href="#">About</a></li>
							<li><a class="dropdown-item" href="#">Contact</a></li>
							<li class="row" style="width:100%;padding-top:5px; margin:0px 0px; padding-left:1px; padding-right:1px">
								<!--moon/dark theme icon-->
								<svg class="col-3 mx-1 p-0 d-inline-flex" xmlns="http://www.w3.org/2000/svg" id="moon1" data-name="Layer 1" viewBox="0 0 24 24" width="24px" height="24px">
									<path d="M14,24A12.013,12.013,0,0,1,2,12C1.847,3.044,12.031-2.985,19.791,1.509l1.553.862-1.543.88c-6.7,
									3.688-6.21,13.87.8,16.906l1.621.731-1.467,1.006A11.921,11.921,0,0,1,14,24Z"/>
								</svg>
								<span class="switch col-6 d-inline-flex px-0 mx-1" id="theme-slider" style="align-items:center;margin-left:18px;cursor:pointer">
									<input type="checkbox" style="display:none">
									<span class="slider"></span>
								</span>
							</li>
						</ul>
					</div>
					<div class="col-sm-1 d-inline-flex" style="justify-items:center;justify-content:center">
						<img src="Mesic.png" alt="Mesic logo" style="width:50px; height:50px">
					</div>
					<button class="col-sm-2 col-xs topNavElement d-inline-flex underline-animation" id="Adsearch">
						<span>Advanced Search</span>
					</button>
					<div class="col-sm-4 d-inline-flex" style="height:50px">
						<input class="searchbox col" type="text" name="" placeholder="Enter song's name">
						<div class="col-2 d-inline-flex" style="align-items: center">
							<button class="topNavElement d-inline-flex topNavSearch mx-1">
								<!-- search icon -->
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20px" width="20px" style="fill:var(--text-color)" class="transformsvg">
									<!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
									<path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0
									 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg>
							</button>
						</div>
					</div>
					<button class="col-sm-2 topNavElement" style="border-radius:20px" id="LogResButton">
						Sign In
					</button>
				</div>
			</div>
		</div>
		
		<div class="container-xxl" style="font-size:30px;font-family:sans-serif;border:2px solid red; height:1000px;transition: all 0.4s ease-in-out">
            
			<div class="row d-flex" style="border-radius:15px;background-color:var(--nav-color);padding-bottom:50px;justify-content:flex-start; align-items:center">
                <!-- User Avatar -->
				<div class="col-4 mx-2 my-2 d-inline-flex p-0" style="height:200px;width:200px;border:5px solid var(--active-search-color);border-radius:50%; transition:border-color 0.4s ease-in-out;justify-content:center; align-items:center">
					<img src="change_avt.png" alt="change user avatar" id="change-avt">
					<img src="default_avt.png" alt="User Avatar" id="user-avt">
					<input type="file" accept="image/*" onchange="preview()" style="position: absolute;width:10%;height:10%;opacity:0" id="change-avt-button">
                </div>
				<!-- User Name -->
                <div class="col-8 mx-2 my-2 d-inline-flex inputSwitch" style="color:var(--text-color); align-items:center">
                    <span id="username"></span><input value="John Doe">
					<img src="edit.png" style="margin:0px 15px;filter:invert(var(--filter-invert-val));height:25px;width:25px;cursor:pointer" id="edit-name">
                </div>
            </div>
			<div class="row d-flex" style="background-color:var(--bg-color);color:var(--text-color);border-radius:15px;border:1px solid green">
				<div class="dropdown">
					<button class="col-12 topNavElement" style="margin:0px" id="dropdown2" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
						Playlist(maybe)
					</button>
					<ul class="dropdownmenu dropdown-menu" id="dropdownmenu2" style="width:calc(100% - 24px);padding:0px;min-width: 5rem !important">
						<li><a class="dropdown-item">Item1</a></li>
						<li><a class="dropdown-item">Item2</a></li>
						<li><a class="dropdown-item">Item3</a></li>
						<li><a class="dropdown-item">Item4</a></li>	
					</ul>
				</div>
				<div class="dropdown">
					<button class="col-12 topNavElement" style="margin:0px" id="dropdown3" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
						Liked songs
					</button>
					<ul class="dropdownmenu dropdown-menu" id="dropdownmenu3" style="width:calc(100% - 24px);padding:0px;min-width: 5rem !important">
						<li><a class="dropdown-item">Item1</a></li>
						<li><a class="dropdown-item">Item2</a></li>
						<li><a class="dropdown-item">Item3</a></li>
						<li><a class="dropdown-item">Item4</a></li>
						<li><hr></li>
						<li><a class="dropdown-item">Play all</a></li>
					</ul>
				</div>
                <div class="addsong">
                    <button class="col-12 topNavElement" style="margin:0px" id="addsong">
                        Add song
                    </button>
                </div>
                <div class="removesong">
                    <button class="col-12 topNavElement" style="margin:0px" id="removesong">
                        Remove song
                    </button>
                </div>        
                <div class="editsong">
                    <button class="col-12 topNavElement" style="margin:0px" id="editsong">
                        Edit song
                    </button>
                </div>
			</div>
        </div> <!--Place holder, for future contents-->
	<!--using jquery, for now-->
	<script>
		function preview()
		{
			urla=URL.createObjectURL(event.target.files[0]);
			// save to database here
			// and call image up from database to display as image, not as blob object
			//below is just for testing
			document.getElementById('user-avt').src=urla;
		};
		$(document).ready(function(){
			document.documentElement.setAttribute('data-theme', 'light');
			if(document.documentElement.getAttribute('data-theme') == 'light')
			{
				
			}
			var $inputSwitches = $(".inputSwitch"),
			$inputs = $inputSwitches.find("input"),
			$spans = $inputSwitches.find("span");
			$spans.on("click", function() {
			var $this = $(this);
			$this.hide().siblings("input").show().focus().select();
			}).each( function() {
				var $this = $(this);
			$this.text($this.siblings("input").val());
			});
			$inputs.on("blur", function() {
			var $this = $(this);
			$this.hide().siblings("span").text($this.val()).show();
			}).on('keydown', function(e) {
			if (e.which == 9) {
				e.preventDefault();
				if (e.shiftKey) {
				$(this).blur().parent().prevAll($inputSwitches).first().find($spans).click();
				} else {
				$(this).blur().parent().nextAll($inputSwitches).first().find($spans).click();
				}
			}
			}).hide();
			
			$("#edit-name").on("click", function() {
				var $this = $spans;
				$this.hide().siblings("input").show().focus().select();
				}).each( function() {
					var $this = $(this);
				$this.text($this.siblings("input").val());
				});
				$inputs.on("blur", function() {
				var $this = $(this);
				$this.hide().siblings("span").text($this.val()).show();
				}).hide();
		});
		$('#Adsearch').click(function()
		{
			window.location.href="advancedSearch.html";
		});
		$('#change-avt').click(function()
		{
			$('#change-avt-button').click();
		});
		$("#dropdown0").on("show.bs.dropdown",function()
		{
			$("#dropdownmenu0").css("z-indent","5");
			$("#dropdownmenu0").css("display","flex");
			$('#dropdown0').animate({marginBottom:"+=200px"});
			$("#dropdownmenu0").animate({height:"200px",opacity:"1"},400);
		});
		$("#dropdown0").on("hide.bs.dropdown",function()
		{
			$('#dropdown0').animate({marginBottom:"-=200px"});
			$("#dropdownmenu0").animate({height:"0px",opacity:"0"},400,function()
			{
				$("#dropdownmenu0").css("display","none");
			});
			$("#dropdownmenu0").css("z-indent","0");
		});
		$("#dropdown1").on("show.bs.dropdown",function()
		{
			$("#dropdownmenu1").css("z-indent","5");
			$("#dropdownmenu1").css("display","flex");
			$("#dropdownmenu1").animate({height:"200px",opacity:"1"},400);
		});
		$("#dropdown1").on("hide.bs.dropdown",function()
		{
			$("#dropdownmenu1").animate({height:"0px",opacity:"0"},400,function()
			{
				$("#dropdownmenu1").css("display","none");
			});
			$("#dropdownmenu1").css("z-indent","0");
		});
		$("#dropdown2").on("show.bs.dropdown",function()
		{
			$("#dropdownmenu2").css("z-indent","5");
			$("#dropdownmenu2").css("display","flex");
			$('#dropdown2').animate({marginBottom:"+=200px"});
			$("#dropdownmenu2").animate({height:"200px",opacity:"1"},400);
		});
		$("#dropdown2").on("hide.bs.dropdown",function()
		{
			$('#dropdown2').animate({marginBottom:"-=200px"});
			$("#dropdownmenu2").animate({height:"0px",opacity:"0"},400,function()
			{
				$("#dropdownmenu2").css("display","none");
			});
			$("#dropdownmenu2").css("z-indent","0");
		});
		$("#dropdown3").on("show.bs.dropdown",function()
		{
			$("#dropdownmenu3").css("z-indent","5");
			$("#dropdownmenu3").css("display","flex");
			$('#dropdown3').animate({marginBottom:"+=200px"});
			$("#dropdownmenu3").animate({height:"200px",opacity:"1"},400);
		});
		$("#dropdown3").on("hide.bs.dropdown",function()
		{
			$('#dropdown3').animate({marginBottom:"-=200px"});
			$("#dropdownmenu3").animate({height:"0px",opacity:"0"},400,function()
			{
				$("#dropdownmenu3").css("display","none");
			});
			$("#dropdownmenu3").css("z-indent","0");
		});
		$('#LogResButton').click(function()
		{
			$('.overlay').css("display","flex");
			$('.overlay').animate({opacity:"1"},400);
			$('#signupoverlay').css("display","flex");
			$('#signupoverlay').animate({marginTop:"+8%",opacity:"1"},400);
		});
		$('.signup').click(function(event)
		{
			event.stopPropagation();
		});
		$('.overlay').click(function() //click on greyed-out area besides the login/reg form
		{
			let overlayvar=$('.overlay');
			$('.signup').animate({marginTop:"0",opacity:"0"},400,function()
			{
				$('.signup').css("display","none");
				overlayvar.animate({opacity:"0"},200);
				overlayvar.promise().done(function()
				{
					overlayvar.css("display","none");
				});
			});
		});
		$('#theme-slider').click(function()
		{
			if(document.documentElement.getAttribute('data-theme') == 'light'){
				document.documentElement.setAttribute('data-theme', 'dark');
				let temp=$('#theme-slider').width()-21;
				$('.slider').animate({left:temp},400);
			}
			else{
				document.documentElement.setAttribute('data-theme', 'light');
				$('.slider').animate({left:"1px"},400);
			}
		});
		$('#signup1').click(function() //user clicks on sign up button on the login form
		{
			$('#signupoverlay').animate({marginTop:"0",opacity:"0"},400,function()
			{
				$('#signupoverlay').css("display","none");
				$('#regoverlay').css("display","flex");
				$('#regoverlay').animate({marginTop:"+8%",opacity:"1"},400);
			});
		});
		$('#login2').click(function() //user clicks on login button on the register form
		{
			$('#regoverlay').animate({marginTop:"0",opacity:"0"},400);
			$('#regoverlay').promise().done(function()
			{
				$('#regoverlay').css("display","none");
				$('#signupoverlay').css("display","flex");
				$('#signupoverlay').animate({marginTop:"+8%",opacity:"1"},400);
			});
		});
	</script>
	</body>
</html>